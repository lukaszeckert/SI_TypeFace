<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Mon Sep 04 12:11:12 CEST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>StatelessKnowledgeSession (KIE :: Internal 7.3.0.Final API)</title>
<meta name="date" content="2017-09-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StatelessKnowledgeSession (KIE :: Internal 7.3.0.Final API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatelessKnowledgeSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>KIE :: Internal 7.3.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/kie/internal/runtime/StatefulKnowledgeSession.html" title="interface in org.kie.internal.runtime"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/kie/internal/runtime/StatelessKnowledgeSessionResults.html" title="interface in org.kie.internal.runtime"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/kie/internal/runtime/StatelessKnowledgeSession.html" target="_top">Frames</a></li>
<li><a href="StatelessKnowledgeSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.kie.internal.runtime</div>
<h2 title="Interface StatelessKnowledgeSession" class="title">Interface StatelessKnowledgeSession</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>org.kie.api.runtime.CommandExecutor, org.kie.api.event.KieRuntimeEventManager, org.kie.api.event.process.ProcessEventManager, org.kie.api.event.rule.RuleRuntimeEventManager, org.kie.api.runtime.StatelessKieSession, org.kie.api.runtime.process.StatelessProcessSession, org.kie.api.runtime.rule.StatelessRuleSession</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">StatelessKnowledgeSession</span>
extends org.kie.api.runtime.StatelessKieSession</pre>
<div class="block">StatelessKnowledgeSession provides a convenience API, wrapping StatefulKnowledgeSession. It avoids the need to
 call dispose(). Stateless sessions do not support
 iterative invocations, the act of calling execute(...) is a single
 shot method that will internally instantiate a StatefulKnowledgeSession, add all the user data and execute user commands, call fireAllRules, and then
 call dispose(). While the main way to work with this class is via the BatchExecution Command as supported by the CommandExecutor interface,
 two convenience methods are provided for when simple object insertion is all that's required.

 <p>
 Simple example showing a stateless session executing for a given collection of java objects using the convenience api. It will iterate the collection inserting
 each element in turn
 </p>
 <pre>
 KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();
 kbuilder.add( ResourceFactory.newFileSystemResource( fileName ), ResourceType.DRL );
 assertFalse( kbuilder.hasErrors() );
 if (kbuilder.hasErrors() ) {
     System.out.println( kbuilder.getErrors() );
 }
 KnowledgeBase kbase = KnowledgeBaseFactory.newKnowledgeBase();
 kbase.addKnowledgePackages( kbuilder.getKnowledgePackages() );

 StatelessKnowledgeSession ksession = kbase.newStatelessKnowledgeSession();
 ksession.execute( collection );
 </pre>

 <p>
 If this was done as a single Command it would be as follows:
 </p>
 <pre>
 ksession.execute( CommandFactory.newInsertElements( collection ) );
 </pre>

 <p>
 Note if you wanted to insert the collection itself, and not the iterate and insert the elements, then CommandFactory.newInsert( collection ) would do the job.
 </p>

 <p>
 The CommandFactory details the supported commands, all of which can be marshalled using XStream and the BatchExecutionHelper. BatchExecutionHelper provides details
 on the XML format as well as how to use Drools Pipeline to automate the marshalling of BatchExecution and ExecutionResults.
 </p>

 <p>
 StatelessKnowledgeSessions support globals, scoped in a number of ways. I'll cover the non-command way first,
 as commands are scoped to a specific execution call. Globals can be resolved in three ways. The StatelessKnowledgeSession
 supports getGlobals(), which returns a Globals instance. These globals are shared for ALL execution calls, so be especially careful of mutable
 globals in these cases - as often execution calls can be executing simultaneously in different threads. Globals also supports a delegate, which
 adds a second way of resolving globals. Calling of setGlobal(String, Object) will actually be set on an internal Collection, identifiers in this internal
 Collection will have priority over supplied delegate, if one is added. If an identifier cannot be found in
 the internal Collection, it will then check the delegate Globals, if one has been set.
 </p>

 <p>Code snippet for setting a session scoped global:</p>
 <pre>
 StatelessKnowledgeSession ksession = kbase.newStatelessKnowledgeSession();
 ksession.setGlobal( "hbnSession", hibernateSession ); // sets a global hibernate session, that can be used for DB interactions in the rules.
 ksession.execute( collection ); // this will now execute and will be able to resolve the "hbnSession" identifier.
 </pre>

 <p>
 The third way is execution scopped globals using the CommandExecutor and SetGlobal Commands:
 </p>

 <pre>
 List&lt;Command&gt; cmds = new ArrayList&lt;Command&gt;();
 cmds.add( CommandFactory.newSetGlobal( "list1", new ArrayList() ) );
 cmds.add( CommandFactory.newInsert( new Person( "jon", 102 ) ) );

 ksession.execute( CommandFactory.newBatchExecution( cmds ) );
 </pre>

 <p>
 The CommandExecutor interface also supports the ability to export data via "out" parameters. Inserted facts, globals and query results can all be returned.
 </p>

 <pre>
 List&lt;Command&gt; cmds = new ArrayList&lt;Command&gt;();
 cmds.add( CommandFactory.newSetGlobal( "list1", new ArrayList(), true ) );
 cmds.add( CommandFactory.newInsert( new Person( "jon", 102 ), "person" ) );
 cmds.add( CommandFactory.newQuery( "Get People" "getPeople" );

 ExecutionResults results = ksession.execute( CommandFactory.newBatchExecution( cmds ) );
 results.getValue( "list1" ); // returns the ArrayList
 results.getValue( "person" ); // returns the inserted fact Person
 results.getValue( "Get People" );// returns the query as a QueryResults instance.
 </pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CommandExecutor</code>, 
<a href="../../../../org/kie/internal/command/CommandFactory.html" title="class in org.kie.internal.command"><code>CommandFactory</code></a>, 
<code>BatchExecutionCommand</code>, 
<a href="../../../../org/kie/internal/runtime/helper/BatchExecutionHelper.html" title="class in org.kie.internal.runtime.helper"><code>BatchExecutionHelper</code></a>, 
<code>Globals</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.kie.api.runtime.StatelessKieSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.runtime.StatelessKieSession</h3>
<code>getChannels, getGlobals, getKieBase, registerChannel, setGlobal, unregisterChannel</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.kie.api.runtime.rule.StatelessRuleSession">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.runtime.rule.StatelessRuleSession</h3>
<code>execute, execute</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.kie.api.runtime.CommandExecutor">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.runtime.CommandExecutor</h3>
<code>execute</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.kie.api.event.KieRuntimeEventManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.event.KieRuntimeEventManager</h3>
<code>getLogger</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.kie.api.event.rule.RuleRuntimeEventManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.event.rule.RuleRuntimeEventManager</h3>
<code>addEventListener, addEventListener, getAgendaEventListeners, getRuleRuntimeEventListeners, removeEventListener, removeEventListener</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.kie.api.event.process.ProcessEventManager">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.kie.api.event.process.ProcessEventManager</h3>
<code>addEventListener, getProcessEventListeners, removeEventListener</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatelessKnowledgeSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>KIE :: Internal 7.3.0.Final</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/kie/internal/runtime/StatefulKnowledgeSession.html" title="interface in org.kie.internal.runtime"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/kie/internal/runtime/StatelessKnowledgeSessionResults.html" title="interface in org.kie.internal.runtime"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/kie/internal/runtime/StatelessKnowledgeSession.html" target="_top">Frames</a></li>
<li><a href="StatelessKnowledgeSession.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2001&#x2013;2017 <a href="http://www.jboss.org/">JBoss by Red Hat</a>. All rights reserved.</small></p>
</body>
</html>
